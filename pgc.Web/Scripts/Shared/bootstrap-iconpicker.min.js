(function(n){"use strict";var t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,this.$element.data());this.options=n.extend({},this.options,r)},i;t.ICONSET_EMPTY={iconClass:"",iconClassFix:"",icons:[]};t.ICONSET={_custom:null,elusiveicon:n.iconset_elusiveicon||t.ICONSET_EMPTY,fontawesome:n.iconset_fontawesome||t.ICONSET_EMPTY,ionicon:n.iconset_ionicon||t.ICONSET_EMPTY,glyphicon:n.iconset_glyphicon||t.ICONSET_EMPTY,mapicon:n.iconset_mapicon||t.ICONSET_EMPTY,materialdesign:n.iconset_materialdesign||t.ICONSET_EMPTY,octicon:n.iconset_octicon||t.ICONSET_EMPTY,typicon:n.iconset_typicon||t.ICONSET_EMPTY,weathericon:n.iconset_weathericon||t.ICONSET_EMPTY};t.DEFAULTS={align:"center",arrowClass:"btn-primary",arrowNextIconClass:"glyphicon glyphicon-arrow-right",arrowPrevIconClass:"glyphicon glyphicon-arrow-left",cols:4,icon:"",iconset:"glyphicon",header:!0,labelHeader:"{0} / {1}",footer:!0,labelFooter:"{0} - {1} of {2}",placement:"bottom",rows:4,search:!0,searchText:"Search icon",selectedClass:"btn-warning",unselectedClass:"btn-default"};t.prototype.bindEvents=function(){var t=this.options,i=this;t.table.find(".btn-previous, .btn-next").off("click").on("click",function(r){r.preventDefault();var u=parseInt(n(this).val(),10);i.changeList(t.page+u)});t.table.find(".btn-icon").off("click").on("click",function(r){r.preventDefault();i.select(n(this).val());t.inline===!1?i.$element.popover("destroy"):t.table.find("i."+n(this).val()).parent().addClass(t.selectedClass)});t.table.find(".search-control").off("keyup").on("keyup",function(){i.changeList(1)})};t.prototype.changeList=function(n){this.filterIcons();this.updateLabels(n);this.updateIcons(n);this.options.page=n;this.bindEvents()};t.prototype.filterIcons=function(){var i=this.options,u=i.table.find(".search-control").val(),r;u===""?i.icons=t.ICONSET[i.iconset].icons:(r=[],n.each(t.ICONSET[i.iconset].icons,function(n,t){t.indexOf(u)>-1&&r.push(t)}),i.icons=r)};t.prototype.removeAddClass=function(n,t,i){return this.options.table.find(n).removeClass(t).addClass(i),i};t.prototype.reset=function(){this.updatePicker();this.changeList(1)};t.prototype.select=function(t){var i=this.options,r=this.$element;i.selected=n.inArray(t.replace(i.iconClassFix,""),i.icons);i.selected===-1&&(i.selected=0,t=i.iconClassFix+i.icons[i.selected]);t!==""&&i.selected>=0&&(i.icon=t,i.inline===!1&&(r.find("input").val(t),r.find("i").attr("class","").addClass(i.iconClass).addClass(t)),t===i.iconClassFix?r.trigger({type:"change",icon:"empty"}):r.trigger({type:"change",icon:t}),i.table.find("button."+i.selectedClass).removeClass(i.selectedClass))};t.prototype.switchPage=function(t){var i=this.options,r;i.selected=n.inArray(t.replace(i.iconClassFix,""),i.icons);i.selected>=0&&(r=Math.ceil((i.selected+1)/this.totalIconsPerPage()),this.changeList(r));t===""?i.table.find("i."+i.iconClassFix).parent().addClass(i.selectedClass):i.table.find("i."+t).parent().addClass(i.selectedClass)};t.prototype.totalPages=function(){return Math.ceil(this.totalIcons()/this.totalIconsPerPage())};t.prototype.totalIcons=function(){return this.options.icons.length};t.prototype.totalIconsPerPage=function(){return this.options.rows===0?this.options.icons.length:this.options.cols*this.options.rows};t.prototype.updateArrows=function(n){var t=this.options,i=this.totalPages();n===1?t.table.find(".btn-previous").addClass("disabled"):t.table.find(".btn-previous").removeClass("disabled");n===i||i===0?t.table.find(".btn-next").addClass("disabled"):t.table.find(".btn-next").removeClass("disabled")};t.prototype.updateIcons=function(t){var i=this.options,c=i.table.find("tbody").empty(),l=(t-1)*this.totalIconsPerPage(),h=i.rows,u,o,f,s,e,r;for(i.rows===0&&(h=i.icons.length),u=0;u<h;u++){for(o=n("<tr><\/tr>"),f=0;f<i.cols;f++)s=l+u*i.cols+f,e=n('<button class="btn '+i.unselectedClass+' btn-icon"><\/button>').hide(),s<i.icons.length&&(r=i.iconClassFix+i.icons[s],e.val(r).attr("title",r).append('<i class="'+i.iconClass+" "+r+'"><\/i>').show(),i.icon===r&&e.addClass(i.selectedClass).addClass("btn-icon-selected")),o.append(n("<td><\/td>").append(e));c.append(o)}};t.prototype.updateIconsCount=function(){var n=this.options,t;n.footer===!0&&(t=["<tr>",'   <td colspan="'+n.cols+'" class="text-center">','       <span class="icons-count"><\/span>',"   <\/td>","<\/tr>"],n.table.find("tfoot").empty().append(t.join("")))};t.prototype.updateLabels=function(n){var t=this.options,i=this.totalIcons(),u=this.totalPages(),f,r;t.table.find(".page-count").html(t.labelHeader.replace("{0}",u===0?0:n).replace("{1}",u));f=(n-1)*this.totalIconsPerPage();r=n*this.totalIconsPerPage();t.table.find(".icons-count").html(t.labelFooter.replace("{0}",f+1).replace("{1}",r<i?r:i).replace("{2}",i));this.updateArrows(n)};t.prototype.updatePagesCount=function(){var t=this.options,r,i,u,f;if(t.header===!0){for(r=n("<tr><\/tr>"),i=0;i<t.cols;i++)u=n('<td class="text-center"><\/td>'),i===0||i===t.cols-1?(f=['<button class="btn btn-arrow '+(i===0?"btn-previous":"btn-next")+" "+t.arrowClass+'" value="'+(i===0?-1:1)+'">','<i class="'+(i===0?t.arrowPrevIconClass:t.arrowNextIconClass)+'"><\/i>',"<\/button>"],u.append(f.join("")),r.append(u)):r.find(".page-count").length===0&&(u.attr("colspan",t.cols-2).append('<span class="page-count"><\/span>'),r.append(u));t.table.find("thead").empty().append(r)}};t.prototype.updatePicker=function(){var n=this.options;if(n.cols<4)throw"Iconpicker => The number of columns must be greater than or equal to 4. [option.cols = "+n.cols+"]";else if(n.rows<0)throw"Iconpicker => The number of rows must be greater than or equal to 0. [option.rows = "+n.rows+"]";else this.updatePagesCount(),this.updateSearch(),this.updateIconsCount()};t.prototype.updateSearch=function(){var t=this.options,i=["<tr>",'   <td colspan="'+t.cols+'">','       <input type="text" class="form-control search-control" style="width: '+t.cols*39+'px;" placeholder="'+t.searchText+'">',"   <\/td>","<\/tr>"];i=n(i.join(""));t.search===!0?i.show():i.hide();t.table.find("thead").append(i)};t.prototype.setAlign=function(n){this.$element.removeClass(this.options.align).addClass(n);this.options.align=n};t.prototype.setArrowClass=function(n){this.options.arrowClass=this.removeAddClass(".btn-arrow",this.options.arrowClass,n)};t.prototype.setArrowNextIconClass=function(n){this.options.arrowNextIconClass=this.removeAddClass(".btn-next > span",this.options.arrowNextIconClass,n)};t.prototype.setArrowPrevIconClass=function(n){this.options.arrowPrevIconClass=this.removeAddClass(".btn-previous > span",this.options.arrowPrevIconClass,n)};t.prototype.setCols=function(n){this.options.cols=n;this.reset()};t.prototype.setFooter=function(n){var t=this.options.table.find("tfoot");n===!0?t.show():t.hide();this.options.footer=n};t.prototype.setHeader=function(n){var t=this.options.table.find("thead");n===!0?t.show():t.hide();this.options.header=n};t.prototype.setIcon=function(n){this.select(n)};t.prototype.setIconset=function(i){var r=this.options;n.isPlainObject(i)?(t.ICONSET._custom=n.extend(t.ICONSET_EMPTY,i),r.iconset="_custom"):r.iconset=t.ICONSET.hasOwnProperty(i)?i:t.DEFAULTS.iconset;r=n.extend(r,t.ICONSET[r.iconset]);this.reset();this.select(r.icon)};t.prototype.setLabelHeader=function(n){this.options.labelHeader=n;this.updateLabels(this.options.page)};t.prototype.setLabelFooter=function(n){this.options.labelFooter=n;this.updateLabels(this.options.page)};t.prototype.setPlacement=function(n){this.options.placement=n};t.prototype.setRows=function(n){this.options.rows=n;this.reset()};t.prototype.setSearch=function(n){var t=this.options.table.find(".search-control");n===!0?t.show():t.hide();t.val("");this.changeList(1);this.options.search=n};t.prototype.setSearchText=function(n){this.options.table.find(".search-control").attr("placeholder",n);this.options.searchText=n};t.prototype.setSelectedClass=function(n){this.options.selectedClass=this.removeAddClass(".btn-icon-selected",this.options.selectedClass,n)};t.prototype.setUnselectedClass=function(n){this.options.unselectedClass=this.removeAddClass(".btn-icon",this.options.unselectedClass,n)};i=n.fn.iconpicker;n.fn.iconpicker=function(i,r){return this.each(function(){var f=n(this),e=f.data("bs.iconpicker"),s=typeof i=="object"&&i,u,o;if(e||f.data("bs.iconpicker",e=new t(this,s)),typeof i=="string")if(typeof e[i]=="undefined")throw'Iconpicker => The "'+i+'" method does not exists.';else e[i](r);else if(u=e.options,u=n.extend(u,{inline:!1,page:1,selected:-1,table:n('<table class="table-icons"><thead><\/thead><tbody><\/tbody><tfoot><\/tfoot><\/table>')}),o=typeof f.attr("name")!="undefined"?'name="'+f.attr("name")+'"':"",f.prop("tagName")==="BUTTON"){f.empty().append("<i><\/i>").append('<input type="hidden" '+o+"><\/input>").append('<span class="caret"><\/span>').addClass("iconpicker");e.setIconset(u.iconset);f.on("click",function(n){n.preventDefault();f.popover({animation:!1,trigger:"manual",html:!0,content:u.table,container:"body",placement:u.placement}).on("shown.bs.popover",function(){e.switchPage(u.icon);e.bindEvents()});f.data("bs.popover").tip().addClass("iconpicker-popover");f.popover("show")})}else u.inline=!0,e.setIconset(u.iconset),f.empty().append('<input type="hidden" '+o+"><\/input>").append(u.table).addClass("iconpicker").addClass(u.align),e.switchPage(u.icon),e.bindEvents()})};n.fn.iconpicker.Constructor=t;n.fn.iconpicker.noConflict=function(){return n.fn.iconpicker=i,this};n(document).on("click","body",function(t){n(".iconpicker").each(function(){n(this).is(t.target)||n(this).has(t.target).length!==0||n(".popover").has(t.target).length!==0||n(this).popover("destroy")})});n('button[role="iconpicker"],div[role="iconpicker"]').iconpicker()})(jQuery);
/*
//# sourceMappingURL=bootstrap-iconpicker.min.js.map
*/